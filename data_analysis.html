<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>データ分析</title>
  <link rel="stylesheet" href="css/data_analysis.css">
</head>
<body>
  <main class="admin-content">
    <!-- 통계 페이지 -->
    <section id="page-stats">
      <h2 style="margin-bottom: 20px;">利用客データ分析</h2>
      <div class="stats-controls" style="margin-bottom: 12px;">
        <label for="stats-start-date">開始日:</label>
        <input type="date" id="stats-start-date">
        <label for="stats-end-date" style="margin-left: 12px;">終了日:</label>
        <input type="date" id="stats-end-date">
        <button id="stats-search-button" class="search-button" style="margin-left: 12px;" data-context="stats">検索</button>
        <button id="stats-details-button" class="edit-button" style="margin-left: 6px;">詳細</button>
      </div>
      <div id="stats-container"></div>
      <div id="stats-result" style="margin-top: 20px;"></div>
      <div id="stats-overall-container" style="margin-bottom: 20px;">
        <h3>全体朝食統計</h3>
        <table id="stats-overall-table" border="1" cellpadding="6" style="border-collapse: collapse;">
          <thead>
            <tr>
              <th>全体</th>
              <th>朝食利用</th>
              <th>未利用（朝食付き）</th>
              <th>Room Only</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td id="total-room">-</td>
              <td id="used-breakfast-room">-</td>
              <td id="unused-breakfast-room">-</td>
              <td id="room-only-count">-</td>
            </tr>
          </tbody>
        </table>
        <!-- 削除: 朝食利用率/未利用率/朝食なし率 のパーセント行 -->
      </div>
      <div id="stats-summary-container" style="margin-top: 20px;">
        <h3>利用客統計</h3>
        <table id="stats-summary-table" border="1" cellpadding="6" style="border-collapse: collapse;">
          <thead>
            <tr>
              <th>朝食利用者数 合計</th>
              <th>Room Only 合計</th>
              <th>朝食利用者数 日平均</th>
              <th>Room Only 日平均</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td id="sum-guest">-</td>
              <td id="sum-room-only">-</td>
              <td id="avg-guest">-</td>
              <td id="avg-room-only">-</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div id="stats-time-range-container" style="margin-top: 20px;">
        <h3>時間帯別統計</h3>
        <table id="time-range-table" border="1" cellpadding="6" style="border-collapse: collapse;">
          <thead>
            <tr>
              <th>時間帯</th>
              <th>総利用者数</th>
              <th>日平均利用者数</th>
            </tr>
          </thead>
          <tbody>
            <!-- 이 부분은 JS에서 동적으로 채움 -->
          </tbody>
        </table>
      </div>
    </section>
  </main>
  <script src="js/data_analysis.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</body>
</html>
